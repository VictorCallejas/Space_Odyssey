# Space Odyssey
<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/New.png?alt=media&token=46bb4532-4210-462e-a6e6-4bc428616dcc" width="300"/>

## NASA Space Apps 2018

##### Categories and challenges
*  **Can you build a...** Do you know when the next rocket launch is?
*  **Help others discover the earth** Artify the earth

##### Team
* **Víctor Callejas Fuentes** Computer science student at the Polytechnic University of Valencia, UPV
* **Juan Robles Gómez** Aerospace engineering student at the Polytechnic University of Valencia, UPV

##### Video 
    Link al video

## Summary

Hal is an assistant that **informs** and **notifies** you about rocket launches, help you with your **space questions** and also capable of **creating art**!

If there is something he does not know, do not worry, he **learn** fast.

With an **self-scalable architecture**, that allows him to scale up when there is a lot of demand so he can provide the best service and scale down when not so he can save resources and infrastructure cost, this is essential in any **global** and a **sustainable** solution.

## Hal

In the last decades many companies have appeared in the space sector and the space launches have multiplied so to be aware of all the launches is not easy, hence the concept of space odyssey.

Currently there are many proposals such as websites or apps, but we wanted a solution that would encourage the user to see the launch, that was not the user who has to be pending and searching, instead something that propose and facilitate, so is more comfortable and saves time for the user.

The reference to HAL9000 also has a meaning, as the evolution in the movie, at first it seems only a chatbot, then you will think that it is an assistant and finally you will not know where to fit it.

We neither, so we call him Hal.

##### Chatbot

Let's see first its chatbot function.

The first time we talk with him we will make a brief questionnaire to better fit our preferences. This configuration can be changed whenever you want, simply by saying "change configuration". This is one of the best features of Hal. He does not need to say a specific phrase, but offers us an **interaction as if it was a person**, we could say "set settings" and also **understand us**.

In case he does not understand you, because you have used very different words, Hal will respond "I did not understand that" (Fallback intent) and the developers will see this phrase, so he can be trained and the next time he will understand you.

Users can ask questions for which Hal has not been programmed to respond, in this case the developers will also see it, and they can program to respond that question. Let's give an example:

User: What astronaut has been more time in space?
Hal: I'm sorry I did not understand you, but do not worry I learn fast!

Here the developers can decide to teach him answer that question and send a notification to the user with the answer. When any other user asks this question again he will know how to answer it.

The more people interacts with Hal, the better he recognizes the sentences and when new questions are asked he has the opportunity to learn so that he can respond to anyone later.

Let see some examples of what you can ask Hal now:

| <p align="center">Next launches  </p>|<p align="center"> Agencies and companies  </p>   | <p align="center">International Space Station  </p>   |
| :------------- | :------------- | :------------- |
| <img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/nextLaunch.PNG?alt=media&token=1f16e472-f0ad-4fe6-90b4-c68eedcc6f93" width="500"/> |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/nasa.PNG?alt=media&token=7b407f5d-a01f-44c5-aaba-d4091b7917d9" width="500"/>   |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/iss.PNG?alt=media&token=52dd831b-947e-4100-9e33-ae15caf3507f" width="500"/>  |
| We can ask him for the next launch or for the next launch of a specific agency, he will tell us  date, location, agency, summary, image and a link for more information and streaming(if available).| We can ask him for lots of public agencies and private companies, he will answer us with a summary, logo and a link for more information.  | We can ask him for the ISS, he will tell us his velocity and altitude and send us a map with his current position. We can track the ISS. |

We invite you to try these features.

##### Assistant

But why we say that Hal is more than a chatbot, that it is an assistant?

Well, we can ask questions to Hal. But also **he will be waiting for us**. Without talking to him. He will be able to send us notifications before a launch occurs for example, these notifications can be configured.

##### Inspire

The creators are enthusiasts of space exploration, so we decided to add the challenge of 'Artify the earth', **creating art and to inspire others**. We are many who love the pictures of the libraries of NASA, so much that we put them on wallpaper. Well, better if those photos had a **personal touch**.

For this, we will tell Hal that we need inspiration or that he create for us a piece of art. He will ask us for a photo and a space style, which has to do with photos from the libraries of NASA.

Let's see some examples:

| <p align="center">User photo  </p>|<p align="center"> NASA Picture</p>   | <p align="center">Result  </p>   |
| :------------- | :------------- | :------------- |
| <img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/astronauta.jpg?alt=media&token=5db356e9-9f61-4e78-b54a-36df847a913f" width="500"/> |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/nasa_picture_of_the_day.jpg?alt=media&token=497b5ea7-53c5-4d8c-b4ac-5845be047ba4" width="500"/>   |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/astro_nebulosa.jpg?alt=media&token=602c1c12-431a-492c-b58e-ca73e7fc9719" width="500"/>  |
| <img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/astronauta.jpg?alt=media&token=5db356e9-9f61-4e78-b54a-36df847a913f" width="500"/> |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/tierrok.jpg?alt=media&token=827d0c22-277b-4a44-8352-b3330c1d441e" width="500"/>   |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/astro_tierra.jpg?alt=media&token=158ae8eb-f805-46a6-9011-d43b24e35a79" width="500"/>  |
| <img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/nasa.png?alt=media&token=b331b41d-a10e-49fc-9293-7e67bd20e046" width="500"/> |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/jupiter.jpg?alt=media&token=3617c17a-ac73-4235-a2c3-66ccf67c05b4" width="500"/>   |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/nasa_jupiter.jpg?alt=media&token=4f4311e6-fc31-44f8-ab86-b73cfd7c63b4" width="500"/>  |
| <img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/logoredspot.jpg?alt=media&token=3e138baa-9339-4f95-bd52-96b558945ba7" width="500"/> |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/logosun.jpg?alt=media&token=c54f86a8-e60b-49a9-ad26-4509c181224b" width="500"/>   |<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/logoastro.jpg?alt=media&token=dc377502-b084-4a50-af26-e2be1fe083e6" width="500"/>  |

##### Architecture

At the time of designing Hal, we have always kept in mind that it must be capable of being implemented at a **global scale** and **be sustainable in the future**.

Architecture scheme:

<img src="https://firebasestorage.googleapis.com/v0/b/hal-kkxfot.appspot.com/o/arquitectura.png?alt=media&token=2ed21ac7-6e87-4f40-8dec-178d59c9b250" width="1000"/>  


The core of the chatbot is in Dialogflow. We have chosen this platform for these reasons mainly:
* Easy deploy on **more than 9 platforms**
* Support for **multiple languages**
* Simple integration with other Google services
* **Effective NPL** (Natural Language Processing) recognition of intents and parameters

But as we have seen, not everything is question and answer, all the data in real time, updates, deepart... it is thanks to the backend.

The fulfillment of the chatbot is the part that is responsible for collecting data in real time, as location of the ISS or access the databases deployed in the new Firebase service, Firestore. This code is written in Javascript and running on Node js, in several servers offered by Google Compuete Engine that have an elastic load balancer to distribute the requests. These servers are in a horizontal **autoscaling** group, this means that automatically, if the number of requests increase it will create automatically new instances to always offer a **quality service without interruptions**. If the number of requests decreases, so does the number of instances to **save resources** and **infrastructure cost**.

Also in Google Compute Engine is a single non-scalable instance responsible for the processing of images with Deepart techniques (Deeplearning), for it has an Nvidia Tesla K80 graphics.

##### Future

As we have seen the architecture allows the application to be prepared for a **global deployment in a sustainable way**.

With Dialogflow Hal can understand **multiple languages**. Currently implemented in English, it will soon be implemented in Spanish and German and in the future it will be implemented in Chinese and Russian.

Hal is already available on Telegram, very soon it will be **multi platform**, being available on Facebook messenger, and in the future it will be implemented on Slack, Google assistant, Line, Alexa and Cortana.

We have disable notifications to make some improves, but in the configuration process your chat_id and preferences are stored in users database so when we activate them soon again, they will be automatically ready for you. We are currently developing the API for the deepart feature and we are importing and integrating an astronauts database so soon you can ask for any astronaut in history and get information about him.

We strongly believe in this project because his almost **null infrastructure and maintenance costs**. Only developers are needed to develop the new features, and later they are **available globally, for everyone in a sustainable way**.

##### Contact

Should you have any further questions, do not hesitate contact us:

viccalfu@inf.upv.es          +34 645 56 64 61          www.linkedin.com/in/victor-callejas-fuentes       
